<!DOCTYPE html>
<html>
<head>
    <style>
        html {
            background: #333;
            color: #e5e5e5;
            min-width: 375px;
            min-height: 100px;
        }

        body {
            margin: 15px;
        }

        a, a:visited {
            color: #e7c96e;
        }

        label {
            display: flex;
            justify-content: space-between;
            margin: 4px;
        }

        label input {
            width: 192px;
        }

        label select {
            width: 200px;
        }

        textarea {
            white-space: nowrap;
            min-height: 100px;
            width: 194px;
        }
    </style>
</head>

<body>
    <h2>KotN Helper</h2>
    <p><em>Notifications only work while the Watched Listings page is open!</em></p>
    <p><a id="watched_listings_link" href="#">Open Watched Listings</a></p>
    <div>
        <h3>Browser Notifications</h3>
        <div>
            <label>
                When listing is ending
                <select data-option_key="options.notifications.ending">
                    <option value="disabled">No notification</option>
                    <option value="always">Always notify me</option>
                    <option value="unlessWinning" selected>Notify if not winning</option>
                </select>
            </label>
        </div>
        <div>
            <label>
                When outbid
                <select data-option_key="options.notifications.outbid">
                    <option value="disabled">No notification</option>
                    <option value="always">Always notify me</option>
                    <option value="last2minutes" selected>Notify if 2 minutes or less remaining</option>
                </select>
            </label>
        </div>
        <div>
            <label>
                When item won
                <select data-option_key="options.notifications.itemWon">
                    <option value="disabled">No notification</option>
                    <option value="always" selected>Always notify me</option>
                </select>
            </label>
        </div>
    </div>

    <h3>Webhook Notifications</h3>
    <p>Webooks will be called via POST with a JSON payload containing event details</p>
    <div>
        <label>
            Webhook URLs<br />(one per line)
            <textarea data-option_key="options.webhooks.urls"></textarea>
        </label>
    </div>
    <div>
        <label>
            When listing is ending
            <select data-option_key="options.webhooks.ending">
                <option value="disabled">No notification</option>
                <option value="always">Always notify me</option>
                <option value="unlessWinning" selected>Notify if not winning</option>
            </select>
        </label>
    </div>
    <div>
        <label>
            When outbid
            <select data-option_key="options.webhooks.outbid">
                <option value="disabled">No notification</option>
                <option value="always">Always notify me</option>
                <option value="last2minutes" selected>Notify if 2 minutes or less remaining</option>
            </select>
        </label>
    </div>
    <div>
        <label>
            When item won
            <select data-option_key="options.webhooks.itemWon">
                <option value="disabled">No notification</option>
                <option value="always" selected>Always notify me</option>
            </select>
        </label>
    </div>

    <!-- <div>
        <h3>Tweaks</h3>
        <div>
            <label>
                Items per page
                <select data-option_key="options.tweaks.itemsPerPage">
                    <option value="default">Default</option>
                    <option value="50">50</option>
                    <option value="75">75</option>
                    <option value="100" selected>100</option>
                </select>
            </label>
        </div>
    </div> -->

    <h3>Testing</h3>
    <p><a id="test_outbid_notification" href="#">Test outbid notification</a></p>
    <p><a id="test_item_won_notification" href="#">Test item won notification</a></p>

    <script type="text/javascript" src="popup.js"></script>
</body>
</html>